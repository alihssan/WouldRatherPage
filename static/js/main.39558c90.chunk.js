(this.webpackJsonpwyr=this.webpackJsonpwyr||[]).push([[0],{191:function(e,t,a){e.exports=a(326)},196:function(e,t,a){},324:function(e,t,a){},326:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(38),c=a.n(o),l=(a(196),a(22)),s=a(23),u=a(25),i=a(24),m=a(21);function d(e){var t=e.user,a=e.total,o=e.color,c=e.rank,l=Object.keys(t.answers).length,s=t.questions.length,u=Math.round(parseInt(l)/parseInt(a)*100);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"board_card"},r.a.createElement("img",{className:"avatar_card",alt:"user",src:t.avatarURL}),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,t.name),r.a.createElement("p",null,"Rank ",r.a.createElement("span",{className:"rank",style:{backgroundColor:o}},c)),r.a.createElement("p",null,"Answered ",r.a.createElement("span",{className:"rank",style:{backgroundColor:o}},l)),r.a.createElement("p",null,"Created ",r.a.createElement("span",{className:"rank",style:{backgroundColor:o}},s))),r.a.createElement("div",{className:"score"},r.a.createElement("p",null,"Score"),r.a.createElement("div",{className:"show_score",style:{backgroundColor:o}},r.a.createElement("p",null,u)))))}var h=a(20);var p=Object(h.connect)((function(e){var t=e.user_reducer,a=e.question_reducer;return{users:Object.keys(t).sort((function(e,a){return Object.keys(t[a].answers).length-Object.keys(t[e].answers).length})),user_reducer:t,total:Object.keys(a)}}))((function(e){var t,a,o=e.users,c=e.user_reducer,l=e.total,s=(t={},Object(m.a)(t,o[0],"gold"),Object(m.a)(t,o[1],"silver"),Object(m.a)(t,o[2],"orange"),Object(m.a)(t,"default","greenyellow"),t),u=(a={},Object(m.a)(a,o[0],"1"),Object(m.a)(a,o[1],"2"),Object(m.a)(a,o[2],"3"),Object(m.a)(a,"default",null),a);return r.a.createElement(n.Fragment,null,o.map((function(e){return r.a.createElement(d,{key:e,user:c[e],total:l,color:s[e],rank:u[e]})})))}));var v=a(179),b=a(10),f={sarahedo:{id:"sarahedo",name:"Sarah Edo",avatarURL:"https://tylermcginnis.com/would-you-rather/sarah.jpg",answers:{"8xf0y6ziyjabvozdd253nd":"optionOne","6ni6ok3ym7mf1p33lnez":"optionTwo",am8ehyc8byjqgar0jgpub9:"optionTwo",loxhs1bqm25b708cmbf3g:"optionTwo"},questions:["8xf0y6ziyjabvozdd253nd","am8ehyc8byjqgar0jgpub9"]},tylermcginnis:{id:"tylermcginnis",name:"Tyler McGinnis",avatarURL:"https://tylermcginnis.com/would-you-rather/tyler.jpg",answers:{vthrdm985a262al8qx3do:"optionOne",xj352vofupe1dqz9emx13r:"optionTwo"},questions:["loxhs1bqm25b708cmbf3g","vthrdm985a262al8qx3do"]},johndoe:{id:"johndoe",name:"John Doe",avatarURL:"https://tylermcginnis.com/would-you-rather/dan.jpg",answers:{xj352vofupe1dqz9emx13r:"optionOne",vthrdm985a262al8qx3do:"optionTwo","6ni6ok3ym7mf1p33lnez":"optionTwo"},questions:["6ni6ok3ym7mf1p33lnez","xj352vofupe1dqz9emx13r"]}},g={"8xf0y6ziyjabvozdd253nd":{id:"8xf0y6ziyjabvozdd253nd",author:"sarahedo",timestamp:1467166872634,optionOne:{votes:["sarahedo"],text:"have horrible short term memory"},optionTwo:{votes:[],text:"have horrible long term memory"}},"6ni6ok3ym7mf1p33lnez":{id:"6ni6ok3ym7mf1p33lnez",author:"johndoe",timestamp:1468479767190,optionOne:{votes:[],text:"become a superhero"},optionTwo:{votes:["johndoe","sarahedo"],text:"become a supervillain"}},am8ehyc8byjqgar0jgpub9:{id:"am8ehyc8byjqgar0jgpub9",author:"sarahedo",timestamp:1488579767190,optionOne:{votes:[],text:"be telekinetic"},optionTwo:{votes:["sarahedo"],text:"be telepathic"}},loxhs1bqm25b708cmbf3g:{id:"loxhs1bqm25b708cmbf3g",author:"tylermcginnis",timestamp:1482579767190,optionOne:{votes:[],text:"be a front-end developer"},optionTwo:{votes:["sarahedo"],text:"be a back-end developer"}},vthrdm985a262al8qx3do:{id:"vthrdm985a262al8qx3do",author:"tylermcginnis",timestamp:1489579767190,optionOne:{votes:["tylermcginnis"],text:"find $50 yourself"},optionTwo:{votes:["johndoe"],text:"have your best friend find $500"}},xj352vofupe1dqz9emx13r:{id:"xj352vofupe1dqz9emx13r",author:"johndoe",timestamp:1493579767190,optionOne:{votes:["johndoe"],text:"write JavaScript"},optionTwo:{votes:["tylermcginnis"],text:"write Swift"}}};function E(e){return new Promise((function(t,a){var n=e.author,r=function(e){var t=e.optionOneText,a=e.optionTwoText,n=e.author;return{id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:Date.now(),author:n,optionOne:{votes:[],text:t},optionTwo:{votes:[],text:a}}}(e);setTimeout((function(){g=Object(b.a)(Object(b.a)({},g),{},Object(m.a)({},r.id,r)),f=Object(b.a)(Object(b.a)({},f),{},Object(m.a)({},n,Object(b.a)(Object(b.a)({},f[n]),{},{questions:f[n].questions.concat([r.id])}))),t(r)}),1e3)}))}var j=a(31),O=a.n(j);function y(){return function(e){return e(Object(j.showLoading)()),Promise.all([new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},f))}),1e3)})),new Promise((function(e,t){setTimeout((function(){return e(Object(b.a)({},g))}),1e3)}))]).then((function(e){var t=Object(v.a)(e,2);return{user:t[0],question:t[1]}})).then((function(t){var a=t.user,n=t.question;e({type:"Receive_User",users:a}),e({type:"Receive_questions",questions:n}),e(Object(j.hideLoading)())}))}}function k(e){return function(t){return t(Object(j.showLoading)()),E(e).then((function(){t(y()),t(Object(j.hideLoading)())}))}}function w(e){var t=e.authedUser,a=e.qid,n=e.answer;return function(e){return e(Object(j.showLoading)()),function(e){var t=e.authedUser,a=e.qid,n=e.answer;return new Promise((function(e,r){setTimeout((function(){f=Object(b.a)(Object(b.a)({},f),{},Object(m.a)({},t,Object(b.a)(Object(b.a)({},f[t]),{},{answers:Object(b.a)(Object(b.a)({},f[t].answers),{},Object(m.a)({},a,n))}))),g=Object(b.a)(Object(b.a)({},g),{},Object(m.a)({},a,Object(b.a)(Object(b.a)({},g[a]),{},Object(m.a)({},n,Object(b.a)(Object(b.a)({},g[a][n]),{},{votes:g[a][n].votes.concat([t])}))))),e()}),500)}))}({authedUser:t,qid:a,answer:n}).then((function(){e(y()),e(Object(j.hideLoading)())}))}}var _=a(43),N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={toHome:!1},e.handleSubmit=function(t){t.preventDefault();var a={optionOneText:e.inputval1.value,optionTwoText:e.inputval2.value,author:e.props.AuthenUser};return e.setState({toHome:!0}),e.props.dispatch(k(a))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.name,o=t.avatar;return!0===this.state.toHome?r.a.createElement(_.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"ask_que"},r.a.createElement("div",{className:"payload"},r.a.createElement("center",null,r.a.createElement("img",{className:"ask_avatar",alt:a,src:o})),r.a.createElement("h2",null,"Ask ",a),r.a.createElement("input",{className:"option",placeholder:"Enter Option 1",ref:function(t){return e.inputval1=t}}),r.a.createElement("input",{className:"option",placeholder:"Enter Option 2",ref:function(t){return e.inputval2=t}}),r.a.createElement("button",{className:"submit",onClick:this.handleSubmit},"Submit"))))}}]),a}(n.Component);var q=Object(h.connect)((function(e){var t=e.user_reducer,a=e.AuthenUser;return{name:t[a].name,avatar:t[a].avatarURL,AuthenUser:a}}))(N),x=a(29),U=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleOnQues=function(t,a){t.preventDefault(),e.props.history.push("/question/".concat(a))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.val,o=t.info,c=t.avatar;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"user_card"},r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null,o),r.a.createElement("p",null,"Would You Rather!")),r.a.createElement("img",{className:"avatar_sq",alt:o,src:c}),r.a.createElement("button",{className:"poll",onClick:function(t){return e.handleOnQues(t,a)}},r.a.createElement(x.b,{to:"/question/".concat(a),style:{color:"green"}},"Poll"))))}}]),a}(n.Component),T=Object(_.f)(Object(h.connect)()(U)),A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={ans:!0,unans:!1,color:!0},e.handleAns=function(t){t.preventDefault(),e.setState({ans:!0,unans:!1,color:!0})},e.handleUnAns=function(t){t.preventDefault(),e.setState({ans:!1,unans:!0,color:!0})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.ans,a=e.unans,n=e.color,o=this.props,c=o.question_reducer,l=o.user_reducer,s=o.answered,u=o.unanswered;return r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"ans-btn",style:{backgroundColor:!0===n&&!0===t?"greenyellow":"white",borderColor:!0===n&&!0===t&&"greenyellow"},onClick:this.handleAns},r.a.createElement("p",null,"Answered Questions")),r.a.createElement("button",{className:"unans-btn",style:{backgroundColor:!0===n&&!0===a?"greenyellow":"white",borderColor:!0===n&&!0===a&&"greenyellow"},onClick:this.handleUnAns},r.a.createElement("p",null,"UnAnswered Questions")),r.a.createElement("div",{className:"questions"},r.a.createElement("div",{className:"ansquee"},!0===t&&s.map((function(e){return r.a.createElement(T,{key:e,val:e,info:c[e].author,avatar:l[c[e].author].avatarURL})}))),r.a.createElement("div",{className:"unansquee"},!0===a&&u.map((function(e){return r.a.createElement(T,{key:e,val:e,info:c[e].author,avatar:l[c[e].author].avatarURL})})))))}}]),a}(n.Component);var R=Object(h.connect)((function(e){var t=e.question_reducer,a=e.user_reducer,n=e.AuthenUser,r=Object.keys(t);return{qid:r.sort((function(e,a){return t[a].timestamp-t[e].timestamp})),question_reducer:t,user_reducer:a,AuthenUser:n,answered:r.filter((function(e){return!0===t[e].optionOne.votes.includes(n)||!0===t[e].optionTwo.votes.includes(n)})),unanswered:r.filter((function(e){return!1===t[e].optionOne.votes.includes(n)&&!1===t[e].optionTwo.votes.includes(n)}))}}))(A),S=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"nav"},r.a.createElement("ul",{className:"nav-list"},r.a.createElement(x.b,{to:"/WouldRatherPage",style:{color:"green"}},r.a.createElement("li",{className:"left_"},"Home")),r.a.createElement(x.b,{to:"/WouldRatherPage/add",style:{color:"green"}},r.a.createElement("li",{className:"left_"},"Ask a Question")),r.a.createElement(x.b,{to:"/WouldRatherPage/leaderboard",style:{color:"green"}},r.a.createElement("li",{className:"left_"},"Leaderboard")),r.a.createElement(x.b,{to:"/WouldRatherPage/login",style:{color:"green"}},r.a.createElement("li",{className:"logout"},"Log Out"))))}}]),a}(r.a.Component),C=a(334),L="Authenticated_User";function P(e){return{type:L,id:e}}var z=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user_name:"",isLog:!1},e.handleChangeLogin=function(t,a){var n=a.value;e.setState({user_name:n})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.user_name&&(e.props.dispatch(P(e.state.user_name)),e.setState({isLog:!0}))},e}return Object(s.a)(a,[{key:"render",value:function(){console.log(this.props.history);var e=this.props,t=e.users,a=e.name,o=e.Avatar,c=e.user_reducer,l=e.AuthenUser,s=this.state.user_name.user_name,u=(this.props.location.state||{from:{pathname:"/WouldRatherPage"}}).from,i=[];return t.forEach((function(e){i.push({key:c[e].id,text:c[e].id,value:c[e].id,image:{avatar:!0,src:c[e].avatarURL}})})),!0===this.state.isLog?r.a.createElement(_.a,{to:u}):r.a.createElement("form",{className:"ask_que"},r.a.createElement("div",{className:"payload"},null!==l?r.a.createElement(n.Fragment,null,r.a.createElement("center",null,r.a.createElement("img",{className:"ask_avatar",alt:a,src:o})),r.a.createElement("h2",null,a),r.a.createElement("h2",null,"Switch User")):r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Switch User")),r.a.createElement("center",null,r.a.createElement("div",{className:"dropdown"},r.a.createElement(C.a,{placeholder:"Select Friend",fluid:!0,selection:!0,options:i,value:s,onChange:this.handleChangeLogin}))),r.a.createElement("button",{className:"submit",onClick:this.handleSubmit},"Submit")))}}]),a}(n.Component);var W=Object(h.connect)((function(e){var t=e.user_reducer,a=e.AuthenUser;return{users:Object.keys(t),name:null!==a&&t[a].name.split(" ")[0],Avatar:null!==a&&t[a].avatarURL,user_reducer:t,AuthenUser:a}}))(z),F=a(332),D=a(333),M=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checked1:!1,checked2:!1,checked_class:""},e.handleSubmit=function(){var t={authedUser:e.props.AuthenUser,qid:e.props.id,answer:e.state.checked_class};e.props.dispatch(w({authedUser:e.props.AuthenUser,qid:e.props.id,answer:e.state.checked_class})),console.log(t)},e.handleToggle=function(t,a){t.preventDefault(),!0===a.checked&&a.className===e.props.opt1?e.setState({checked1:!0,checked_class:"optionOne"}):!1===a.checked&&a.className===e.props.opt1?e.setState({checked1:!1,checked_class:"optionTwo"}):!0===a.checked&&a.className===e.props.opt2?e.setState({checked2:!0,checked_class:"optionTwo"}):!1===a.checked&&a.className===e.props.opt2&&e.setState({checked2:!1,checked_class:"optionOne"}),console.log(a)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.author,o=t.opt1,c=t.opt2,l=t.avatar,s=t.opt1_val,u=t.opt2_val,i=t.total,m=t.opt1_vote,d=t.opt2_vote,h=t.AuthenUser,p=t.id_check,v=Math.round(parseInt(s)/i*100),b=Math.round(parseInt(u)/i*100);return r.a.createElement(n.Fragment,null,!0===p?r.a.createElement("div",{className:"new_que"},r.a.createElement("div",{className:"avatar_n"},r.a.createElement("img",{className:"avatar_nn",alt:a,src:l}),r.a.createElement("p",null,"Asked By"),r.a.createElement("h1",null,a)),(m.includes(h)||d.includes(h))&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"option-frame"},r.a.createElement("p",null,o),r.a.createElement("p",null,s," out of ",i),r.a.createElement("div",{className:"loader"},r.a.createElement(F.a,{percent:v,color:"green",progress:!0}))),r.a.createElement("div",{className:"option-frame"},r.a.createElement("p",null,c),r.a.createElement("p",null,u," out of ",i),r.a.createElement("div",{className:"loader"},r.a.createElement(F.a,{percent:b,color:"blue",progress:!0})))),!1===m.includes(h)&&!1===d.includes(h)&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"option-frame"},r.a.createElement("p",null,o),r.a.createElement("center",null,r.a.createElement(D.a,{toggle:!0,className:o,onChange:function(t,a){return e.handleToggle(t,a)}}))),r.a.createElement("div",{className:"option-frame"},r.a.createElement("p",null,c),r.a.createElement("center",null,r.a.createElement(D.a,{toggle:!0,className:c,onChange:function(t,a){return e.handleToggle(t,a)}}))),r.a.createElement("button",{className:"submit_btn",onClick:this.handleSubmit,disabled:!0===this.state.checked2&&!0===this.state.checked1||!1===this.state.checked2&&!1===this.state.checked1},!0===this.state.checked1&&!0===this.state.checked2||!1===this.state.checked2&&!1===this.state.checked1?r.a.createElement("p",null,"Invalid Selection"):r.a.createElement("p",null,"Submit")))):r.a.createElement("div",{className:"error"},r.a.createElement("center",null,r.a.createElement("h1",null,"You Haven't "))))}}]),a}(n.Component);var B=Object(_.f)(Object(h.connect)((function(e,t){var a=e.user_reducer,n=e.question_reducer,r=e.AuthenUser,o=t.match.params.id;return{author:n[o].author,opt1:n[o].optionOne.text,opt2:n[o].optionTwo.text,avatar:a[n[o].author].avatarURL,opt1_val:n[o].optionOne.votes.length,opt2_val:n[o].optionTwo.votes.length,total:Object.keys(a).length,opt1_vote:n[o].optionOne.votes,opt2_vote:n[o].optionTwo.votes,AuthenUser:r,id:o,id_check:Object.keys(n).includes(o)}}))(M)),H=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(y())}},{key:"render",value:function(){var e=this.props.loadingBar;return r.a.createElement(x.a,null,r.a.createElement("div",null,r.a.createElement(O.a,null),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement(S,null)),!0!==e&&r.a.createElement("div",{className:"user"},r.a.createElement("div",{className:"show"},r.a.createElement("img",{className:"avatar",alt:this.props.User.id,src:this.props.User.avatarURL}),r.a.createElement("p",null,"Hello ",this.props.User.name,"!"))),r.a.createElement(_.b,{path:"/WouldRatherPage/login",exact:!0,component:W}),r.a.createElement(n.Fragment,null,r.a.createElement(_.b,{path:"/WouldRatherPage",exact:!0,render:function(){return!0===e?r.a.createElement(_.a,{to:"/WouldRatherPage/login"}):r.a.createElement(R,null)}}),r.a.createElement(_.b,{path:"/WouldRatherPage/add",exact:!0,render:function(){return!0===e?r.a.createElement(_.a,{to:"/WouldRatherPage/login"}):r.a.createElement(q,null)}}),r.a.createElement(_.b,{path:"/WouldRatherPage/leaderboard",exact:!0,render:function(){return!0===e?r.a.createElement(_.a,{to:"/WouldRatherPage/login"}):r.a.createElement(p,null)}}),r.a.createElement(_.b,{path:"/WouldRatherPage/question/:id",exact:!0,render:function(){return!0===e?r.a.createElement(_.a,{to:"/WouldRatherPage/login"}):r.a.createElement(B,null)}})))))}}]),a}(n.Component);var I=Object(h.connect)((function(e){var t=e.AuthenUser,a=e.user_reducer;return e.question_reducer,{loadingBar:null===t,User:a[t],user_reducer:a}}))(H),Q=(a(324),a(325),a(41));var J=Object(Q.c)({AuthenUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return t.id;default:return e}},user_reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Receive_User":return Object(b.a)(Object(b.a)({},e),t.users);default:return e}},question_reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"Receive_questions":return Object(b.a)(Object(b.a)({},e),t.questions);default:return e}},loadingBar:j.loadingBarReducer}),Y=function(e){return function(t){return function(a){console.group(a.type),console.log("Action is",a);var n=t(a);return console.log("The New State is",e.getState()),console.groupEnd(),n}}},$=a(178),G=Object(Q.a)($.a,Y),K=Object(Q.d)(J,G);c.a.render(r.a.createElement(h.Provider,{store:K},r.a.createElement(I,null)),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.39558c90.chunk.js.map